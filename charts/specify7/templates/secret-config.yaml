apiVersion: v1
kind: Secret
metadata:
  name: {{ include "specify7.fullname" . }}-config
  labels:
    {{- include "specify7.labels" . | nindent 4 }}
type: Opaque
stringData:
  local_specify_settings.py: |
    # Generated by Helm
    DATABASE_NAME = '{{ .Values.specify.database.name }}'
    {{- if .Values.mariadb.enabled }}
    DATABASE_HOST = '{{ .Release.Name }}-mariadb'
    {{- else }}
    DATABASE_HOST = '{{ .Values.specify.database.host }}'
    {{- end }}
    DATABASE_PORT = {{ .Values.specify.database.port }}
    MASTER_NAME = '{{ .Values.specify.user.masterName }}'
    MASTER_PASSWORD = '{{ .Values.specify.user.masterPassword }}'
    APP_USER_NAME = '{{ .Values.specify.user.masterName }}'
    APP_USER_PASSWORD = '{{ .Values.specify.user.masterPassword }}'
    
    SECRET_KEY = '{{ .Values.specify.secretKey }}'
    WEB_ATTACHMENT_KEY = '{{ .Values.specify.assetServerKey }}'
    
    DEBUG = {{ .Values.specify.debug | ternary "True" "False" }}
    
    # Static files location (matches Nginx & InitContainer paths)
    STATIC_ROOT = '/volumes/static-files'
